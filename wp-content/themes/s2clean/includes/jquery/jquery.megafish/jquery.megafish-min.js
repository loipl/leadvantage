(function(a){if(typeof a.fn.megafish!=="function"&&typeof a.fn.hoverIntent==="function"){a.fn.megafish=function(c){var f=this,h,e={parentClass:"parent",currentClass:"current",depressedClass:"depressed",dividerClass:"divider",arrowClass:"arrow",downArrow:"&#9660;",rightArrow:"&#9658;",animShow:"fadeIn",animHide:"fadeOut",animSpeed:"fast",hoverSensitivity:5,hoverInterval:200,hoverTimeout:500,openOnClick:"arrows-only",switchOnClick:false};var g=(a.browser.msie)?true:false,d=(g&&a.browser.version<8)?true:false,b=(a.browser.opera)?true:false;h=c=a.extend(true,{},e,c);return f.each(function(){var k,i='<li class="'+h.dividerClass+'"></li>';(k=a("> li",this)).each(function(m){if(m+1<k.length){a(this).after(i)}});var j='<ins style="display:none;">&nbsp;</ins>';a("> li:has(ul)",this).each(function(){a(this).append('<ins class="'+h.arrowClass+'">'+j+h.downArrow+"</ins>")});a("ul li:has(ul)",this).each(function(){a(this).prepend('<ins class="'+h.arrowClass+'">'+j+h.rightArrow+"</ins>")});if(h.openOnClick){a("li:has(ul)",this).addClass(h.parentClass).each(function(){a(((h.openOnClick==="arrows-only")?'> a[href="#"]':"> a")+", > ins."+h.arrowClass,this).click(function(){var m=a(this);if(a("> ul",m.parent()).css("display")==="none"){m.parent().addClass(h.depressedClass);if(g||b||!h.animShow){a("> ul",m.parent()).show()}else{a("> ul",m.parent())[h.animShow](h.animSpeed)}}else{m.parent().removeClass(h.depressedClass);if(g||b||!h.animHide){a("> ul",m.parent()).hide()}else{a("> ul",m.parent())[h.animHide](h.animSpeed)}}return false});a(this).hoverIntent({sensitivity:100,interval:100,timeout:h.hoverTimeout,over:function(){return},out:function(){a(this).removeClass(h.depressedClass);if(g||b||!h.animHide){a("> ul",this).hide()}else{a("> ul",this)[h.animHide](h.animSpeed)}}})})}else{a("li:has(ul)",this).addClass(h.parentClass).hoverIntent({sensitivity:h.hoverSensitivity,interval:h.hoverInterval,timeout:h.hoverTimeout,over:function(){a(this).addClass(h.depressedClass);if(g||b||!h.animShow){a("> ul",this).show()}else{a("> ul",this)[h.animShow](h.animSpeed)}},out:function(){a(this).removeClass(h.depressedClass);if(g||b||!h.animHide){a("> ul",this).hide()}else{a("> ul",this)[h.animHide](h.animSpeed)}}})}if(h.switchOnClick){a("li > a",this).click(function(){a("li > a",f).each(function(){a(this).parent().removeClass(h.currentClass)});a(this).parent().addClass(h.currentClass)})}if(d){var l=1000;a("li",this).each(function(){a(this).css("z-index",l--)})}})}}})(jQuery);